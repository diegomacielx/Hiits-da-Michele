<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Nossa Jornada - Um Presente para Kailane</title>
    <style>
        /* Importando fontes elegantes */
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Lato:wght@400;700&display=swap');

        /* Reset e Configura√ß√µes Globais */
        :root {
            --primary-font: 'Lato', sans-serif;
            --title-font: 'Playfair Display', serif;
            --background-color: #121212;
            --text-color: #e0e0e0;
            --container-bg: #1e1e1e;
            --accent-color: #ffffff;
            --correct-color: #76ff03; /* Verde lim√£o */
            --incorrect-color: #ff5252; /* Vermelho claro */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Estiliza√ß√£o do Body - Foco em Mobile */
        body {
            font-family: var(--primary-font);
            background: var(--background-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 1rem; /* Espa√ßamento das bordas da tela */
        }

        /* Container Principal do Jogo - Responsivo */
        #game-container {
            width: 100%;
            max-width: 500px; /* Limite para telas maiores */
            min-height: 85vh;
            background-color: var(--container-bg);
            border-radius: 20px;
            box-shadow: 0 0 40px rgba(255, 105, 180, 0.2); /* Sombra rosa sutil */
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Imagem de Fundo */
        #background-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.3) blur(3px);
            transition: opacity 1.5s ease-in-out;
            z-index: 1;
        }

        /* Camada de Conte√∫do */
        #content-overlay {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: clamp(1.5rem, 5vw, 2.5rem); /* Padding responsivo */
            background: rgba(0, 0, 0, 0.6);
            border-radius: 15px;
            transition: opacity 1s ease-in-out;
            width: 90%;
        }

        /* T√≠tulos e Textos com Tipografia Responsiva */
        h2 {
            font-family: var(--title-font);
            font-size: clamp(2rem, 8vw, 2.8rem); /* Tamanho de fonte fluido */
            color: var(--accent-color);
            margin-bottom: 1rem;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
        }

        p {
            font-size: clamp(1rem, 4vw, 1.1rem); /* Tamanho de fonte fluido */
            line-height: 1.7;
            max-width: 600px;
            margin: 0 auto 1.5rem auto;
        }

        /* Container das Op√ß√µes */
        #options-container {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            margin-top: 1.5rem;
            width: 100%;
        }

        /* Bot√µes e Inputs - Otimizados para Toque */
        button, input[type="text"] {
            font-family: var(--primary-font);
            font-size: 1rem;
            padding: 1rem; /* √Årea de toque maior */
            border: 2px solid var(--accent-color);
            background-color: transparent;
            color: var(--accent-color);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            -webkit-tap-highlight-color: transparent; /* Remove highlight azul no toque */
        }

        button:hover, button:focus {
            background-color: var(--accent-color);
            color: #000;
            transform: scale(1.03);
            outline: none;
        }
        
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            background-color: transparent;
            color: var(--accent-color);
        }

        input[type="text"] {
            text-align: center;
        }
        
        /* Mensagem de Feedback */
        #feedback-message {
            margin-top: 1rem;
            font-weight: bold;
            min-height: 2.5rem; /* Espa√ßo reservado para a mensagem */
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .correct { color: var(--correct-color); }
        .incorrect { color: var(--incorrect-color); }
        
        /* Estilo da Promessa Final */
        #final-promise {
            white-space: pre-wrap;
            font-family: monospace;
            font-size: clamp(0.8rem, 3vw, 1rem);
            text-align: left;
            padding: 1rem;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
        }

        .hidden { display: none; }
    </style>
</head>
<body>

    <div id="game-container">
        <img id="background-image" src="https://placehold.co/800x600/1a1a1a/e0e0e0?text=Carregando..." alt="Fundo da fase">
        <div id="content-overlay">
            <h2 id="phase-title"></h2>
            <p id="phase-text"></p>
            <div id="options-container"></div>
            <p id="feedback-message"></p>
            <button id="next-button" class="hidden">Continuar...</button>
        </div>
    </div>

    <script>
        const gamePhases = [
            // Fase 0: Tela de In√≠cio
            {
                phase: 0,
                title: "A Nossa Jornada",
                backgroundImage: "https://placehold.co/800x600/ff69b4/ffffff?text=In%C3%ADcio",
                text: "Bem-vinda, meu amor. Nossa hist√≥ria parece um sonho, e hoje, eu transformei esse sonho em um jogo s√≥ para voc√™. Hoje, 09 de Agosto de 2025, completamos 6 meses. Esta √© a minha forma de dizer que cada segundo valeu a pena.",
                challenge: { type: "start_button", label: "COME√áAR" }
            },
            // Fase 1: A Viagem
            {
                phase: 1,
                title: "A Viagem que Mudou Tudo",
                backgroundImage: "https://placehold.co/800x600/87ceeb/ffffff?text=Viagem",
                text: "O tempo criou uma n√©voa sobre a nossa primeira mem√≥ria. Para continuar, voc√™ precisa encontrar a fa√≠sca que deu in√≠cio a tudo. Quando eu te vi pela primeira vez, um pensamento dominou minha mente. Qual foi?",
                challenge: {
                    type: "multiple_choice",
                    options: ["'Nossa, como ela √© bonita.'", "'Espero que ela goste de mim.'", "'Parece que estou sonhando, encontrei a mulher que eu tanto sonhei.'"],
                    correctAnswer: 2
                },
                feedback: "Naquele momento, eu soube. Cada dia ao seu lado foi m√°gico. Eu tive que voltar com o cora√ß√£o apertado, mas felizmente, eu estava errado sobre o medo de n√£o te ver mais...",
                item: "‚ú® Item Coletado: Fragmento de Sonho Realizado ‚ú®"
            },
            // Fase 2: A Princesa
            {
                phase: 2,
                title: "A Princesa na Cidade Grande",
                backgroundImage: "https://placehold.co/800x600/ffd700/000000?text=Princesa",
                text: "Sua m√£e me confiou a 'princesinha' dela. Para provar que fui um bom guardi√£o, voc√™ precisa se lembrar da promessa que fiz √† minha sogra. O que eu respondi a ela?",
                challenge: {
                    type: "multiple_choice",
                    options: ["'Vou mostrar a cidade toda pra ela.'", "'Pode deixar, minha sogra... Vou cuidar dela da melhor forma poss√≠vel.'", "'Ela vai voltar cheia de sacolas.'"],
                    correctAnswer: 1
                },
                feedback: "E eu cumpri. Ver o brilho nos seus olhos conhecendo cada lugar n√£o tinha pre√ßo. E o nosso primeiro carnaval juntos? Foi a minha maior recompensa.",
                item: "üõ°Ô∏è Item Coletado: Amuleto do Guardi√£o Fiel üõ°Ô∏è"
            },
            // Fase 3: Santu√°rio
            {
                phase: 3,
                title: "O Santu√°rio das Mem√≥rias",
                backgroundImage: "https://placehold.co/800x600/c0c0c0/000000?text=Santu%C3%A1rio",
                text: "A dist√¢ncia pode ser cruel, mas eu guardo nossas mem√≥rias num santu√°rio. Em nosso terceiro m√™s, naquele dia no shopping, nosso compromisso ganhou um novo s√≠mbolo para substituir o primeiro. O que eu te dei?",
                challenge: {
                    type: "multiple_choice",
                    options: ["Um ingresso para um show.", "Um chocolate que voc√™ adora.", "Uma alian√ßa nova, para celebrar nosso amor."],
                    correctAnswer: 2
                },
                feedback: "A alegria nos seus olhos foi impag√°vel. Cada foto que tiro √© pra te sentir perto, mesmo longe. E nossa vontade de explorar s√≥ crescia...",
                item: "üíç Item Coletado: Alian√ßa Eterna (v2.0) üíç"
            },
            // Fase 4: Desbravadores
            {
                phase: 4,
                title: "Desbravadores do Cotidiano",
                backgroundImage: "https://placehold.co/800x600/32cd32/ffffff?text=Desbravadores",
                text: "T√≠nhamos um acordo de 'n√£o sair', que nunca cumprimos. Voc√™ despertou algo em mim. Complete a frase: 'Quando estou com voc√™, me desperta um esp√≠rito...?'",
                challenge: {
                    type: "text_input",
                    placeholder: "Digite a palavra aqui",
                    correctAnswer: "desbravador" "viajante" "aventureiro" "explorador"
                },
                feedback: "Isso mesmo! Voc√™ me deu coragem para explorar o mundo e o orgulho de te apresentar para toda a minha fam√≠lia. Eles sabem que eu tenho a namorada mais linda do universo.",
                item: "üß≠ Item Coletado: B√∫ssola dos Desbravadores üß≠"
            },
             // Fase 5: 15 Dias
            {
                phase: 5,
                title: "Quinze Dias de Cuidado",
                backgroundImage: "https://placehold.co/800x600/ff7f50/ffffff?text=Cuidado",
                text: "Foram 15 dias que pareceram um sonho. Lembra da noite em que nosso passeio ao Mirante deu errado, mas terminou com um banquete que nos deixou passando mal de felizes? Onde foi?",
                challenge: {
                    type: "multiple_choice",
                    options: ["Numa pizzaria famosa.", "Em casa, pedindo delivery.", "No restaurante dos meus pais, com aquela sopa incr√≠vel."],
                    correctAnswer: 2
                },
                feedback: "Naqueles 15 dias, seu cuidado, seu carinho... tudo foi perfeito. At√© um passeio frustrado se tornou incr√≠vel s√≥ por estar com voc√™. E agora, olhamos para o futuro...",
                item: "‚ù§Ô∏è Item Coletado: Cora√ß√£o Satisfeito e Transbordando ‚ù§Ô∏è"
            },
            // Fase 6: Final
            {
                phase: 6,
                title: "A Nossa Promessa",
                backgroundImage: "https://placehold.co/800x600/4b0082/ffffff?text=Promessa",
                text: "", // O texto ser√° digitado
                challenge: { type: "final_message" }
            }
        ];

        let currentPhaseIndex = 0;

        // Elementos do DOM
        const bgImage = document.getElementById('background-image');
        const contentOverlay = document.getElementById('content-overlay');
        const phaseTitle = document.getElementById('phase-title');
        const phaseText = document.getElementById('phase-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackMessage = document.getElementById('feedback-message');
        const nextButton = document.getElementById('next-button');

        // Fun√ß√£o para renderizar a fase atual
        function renderPhase(index) {
            const phaseData = gamePhases[index];
            
            contentOverlay.style.opacity = 0;
            bgImage.style.opacity = 0;

            setTimeout(() => {
                bgImage.src = phaseData.backgroundImage;
                phaseTitle.textContent = phaseData.title;
                phaseText.innerHTML = phaseData.text;
                
                optionsContainer.innerHTML = '';
                feedbackMessage.textContent = '';
                nextButton.classList.add('hidden');

                const challenge = phaseData.challenge;
                switch(challenge.type) {
                    case 'start_button':
                        const startBtn = document.createElement('button');
                        startBtn.textContent = challenge.label;
                        startBtn.onclick = handleNextClick;
                        optionsContainer.appendChild(startBtn);
                        break;
                    
                    case 'multiple_choice':
                        challenge.options.forEach((option, i) => {
                            const button = document.createElement('button');
                            button.innerHTML = option;
                            button.onclick = () => handleMultipleChoice(i, phaseData);
                            optionsContainer.appendChild(button);
                        });
                        break;

                    case 'text_input':
                         const input = document.createElement('input');
                         input.type = 'text';
                         input.placeholder = challenge.placeholder;
                         input.onkeydown = (event) => {
                             if (event.key === 'Enter') {
                                 handleTextInput(input.value, phaseData);
                             }
                         };
                         optionsContainer.appendChild(input);
                         const confirmBtn = document.createElement('button');
                         confirmBtn.textContent = 'Confirmar';
                         confirmBtn.onclick = () => handleTextInput(input.value, phaseData);
                         optionsContainer.appendChild(confirmBtn);
                         break;

                    case 'final_message':
                         renderFinalMessage();
                         break;
                }

                contentOverlay.style.opacity = 1;
                bgImage.style.opacity = 1;
            }, 1000); // Atraso para a transi√ß√£o suave
        }

        // Lida com a resposta de m√∫ltipla escolha
        function handleMultipleChoice(selectedIndex, phaseData) {
            if (selectedIndex === phaseData.challenge.correctAnswer) {
                feedbackMessage.innerHTML = `${phaseData.item}<br>${phaseData.feedback}`;
                feedbackMessage.className = 'correct';
                nextButton.classList.remove('hidden');
                document.querySelectorAll('#options-container button').forEach(b => b.disabled = true);
            } else {
                feedbackMessage.textContent = 'Hmm, n√£o foi bem isso. Tente de novo!';
                feedbackMessage.className = 'incorrect';
            }
        }
        
        // Lida com a resposta de texto
        function handleTextInput(inputValue, phaseData) {
            const answer = inputValue.toLowerCase().trim();
            const alternateAnswer = 'aventureiro'; // Resposta alternativa
            if (answer === phaseData.challenge.correctAnswer || answer === alternateAnswer) {
                feedbackMessage.innerHTML = `${phaseData.item}<br>${phaseData.feedback}`;
                feedbackMessage.className = 'correct';
                nextButton.classList.remove('hidden');
                document.querySelectorAll('#options-container button, #options-container input').forEach(el => el.disabled = true);
            } else {
                feedbackMessage.textContent = 'N√£o √© essa a palavra... Pense bem!';
                feedbackMessage.className = 'incorrect';
            }
        }

        // Avan√ßa para a pr√≥xima fase
        function handleNextClick() {
            currentPhaseIndex++;
            if (currentPhaseIndex < gamePhases.length) {
                renderPhase(currentPhaseIndex);
            }
        }
        
        // Renderiza a mensagem final com efeito de digita√ß√£o
        function renderFinalMessage() {
            const promiseText = `Nosso sexto encontro talvez demore pra acontecer, mas eu espero que seja o mais r√°pido poss√≠vel.\n\nMas, mesmo que demore uma eternidade...\n\nEu a esperarei.\n\nE a amarei.\n\nPelo tempo que for preciso.`;
            phaseText.textContent = '';
            
            let i = 0;
            const typing = setInterval(() => {
                if (i < promiseText.length) {
                    phaseText.textContent += promiseText.charAt(i);
                    i++;
                } else {
                    clearInterval(typing);
                    setTimeout(showFinalScreen, 2000);
                }
            }, 70); // Velocidade da digita√ß√£o
        }

        // Mostra a tela final de parab√©ns
        function showFinalScreen() {
             phaseText.innerHTML = `
                <pre id="final-promise">
*************************************************
* *
* P A R A B √â N S,  M E U  A M O R !         *
* *
* Voc√™ zerou o jogo da nossa hist√≥ria at√© aqui.  *
* A maior recompensa n√£o √© um item, mas saber que *
* a pr√≥xima fase ser√° ao seu lado.         *
* *
* FELIZ 6 MESES DE NAMORO, MINHA PRINCESA!          *
* *
* Obrigado por ser a melhor parte da minha vida. *
* *
* Eu te amo.                    *
* *
*************************************************
                </pre>
            `;
        }

        // Event listener do bot√£o "Continuar"
        nextButton.onclick = handleNextClick;
        
        // Inicia o jogo quando a p√°gina carregar
        window.onload = () => renderPhase(currentPhaseIndex);
    </script>

</body>
</html>
