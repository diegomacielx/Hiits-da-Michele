<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infogr√°fico: Periodiza√ß√£o HIIT de 8 Semanas - Ev√¢nia Dutra Costa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #000000;
        }
        .main-title {
            color: #EF4444; /* Vermelho Vibrante */
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        .card {
            background-color: #1F2937;
            border-left: 4px solid #EF4444; /* Vermelho Vibrante */
        }
        .icon {
            color: #EF4444; /* Vermelho Vibrante */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .nav-button {
            background-color: #EF4444; /* Vermelho Vibrante */
            color: white;
            padding: 12px 24px;
            border-radius: 9999px;
            font-weight: 700;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            display: inline-block;
            margin-top: 2rem;
        }
        .nav-button:hover {
            background-color: #DC2626; /* Vermelho mais escuro */
        }
        .timer-page {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 1rem;
        }
        .timer-display {
            font-size: 5rem;
            font-weight: 900;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.7);
            margin-bottom: 1rem;
        }
        .phase-display {
            font-size: 2.5rem;
            font-weight: 700;
            color: #D1D5DB;
            margin-bottom: 0.5rem;
        }
        .set-display {
            font-size: 1.5rem;
            color: #9CA3AF;
            margin-bottom: 2rem;
        }
        .timer-controls button {
            background-color: #1F2937;
            color: #EF4444; /* Vermelho Vibrante */
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 700;
            margin: 0.5rem;
            transition: background-color 0.3s ease, color 0.3s ease;
            border: 2px solid #EF4444; /* Vermelho Vibrante */
        }
        .timer-controls button:hover:not(:disabled) {
            background-color: #EF4444; /* Vermelho Vibrante */
            color: white;
        }
        .timer-controls button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .config-section {
            background-color: #1F2937;
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 2rem;
            width: 100%;
            max-width: 700px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            border: 1px solid #EF4444; /* Vermelho Vibrante */
        }
        .phase-item {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: flex-end;
            margin-bottom: 1rem;
            padding: 0.75rem;
            background-color: #2D3748;
            border-radius: 8px;
            border: 1px solid #4A5568;
        }
        .phase-item > div {
            display: flex;
            flex-direction: column;
        }
        .phase-item input[type="text"],
        .phase-item input[type="number"],
        .config-section select {
            background-color: #4A5568;
            color: white;
            border: 1px solid #6B7280;
            padding: 0.5rem;
            border-radius: 4px;
            flex-grow: 1;
        }
        .phase-item button {
            background-color: #EF4444;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-weight: 600;
            transition: background-color 0.3s ease;
        }
        .phase-item button:hover {
            background-color: #DC2626;
        }
        .add-phase-btn {
            background-color: #4CAF50;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 700;
            margin-top: 1rem;
            transition: background-color 0.3s ease;
        }
        .add-phase-btn:hover {
            background-color: #45a049;
        }
        .save-load-buttons button {
            background-color: #EF4444;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 700;
            margin: 0.5rem;
            transition: background-color 0.3s ease;
        }
        .save-load-buttons button:hover {
            background-color: #DC2626;
        }
    </style>
</head>
<body class="text-gray-200">

    <!-- P√°gina do Infogr√°fico Principal -->
    <div id="main-infographic-page" class="container mx-auto p-4 md:p-8">

        <header class="mb-12">
            <div class="w-full">
                <div class="mb-12 text-center">
                    <img id="userLogo" src="https://i.imgur.com/rLLYQ3Z.png" alt="Sua Logo" class="inline-block rounded-lg shadow-md" style="max-width: 150px; height: auto;">
                    <p class="text-xl font-bold text-white mt-2">Consultoria Esportiva Premium</p>
                </div>
                <div class="text-left mb-10">
                    <p class="text-md md:text-lg text-gray-400">Aluna: Ev√¢nia Dutra Costa</p>
                    <p class="text-md md:text-lg text-gray-400">Objetivo: Melhoria da capacidade cardiovascular</p>
                </div>
            </div>
            <div class="text-center mt-8">
                <h1 class="text-4xl md:text-6xl font-black main-title mb-2">SUA JORNADA HIIT DE 8 SEMANAS</h1>
                <p class="text-lg md:text-xl text-gray-300">Uma periodiza√ß√£o completa para voc√™ evoluir na esteira e superar seus limites.</p>
            </div>
        </header>

        <section id="understanding" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8 text-white">Entendendo Seu Treino na Esteira</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <div class="icon text-4xl mb-3">üî•</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Est√≠mulo (Tiro)</h3>
                    <p class="text-gray-400">Aumente a velocidade da esteira. A meta √© atingir um esfor√ßo muito forte (PSE 8-9).</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <div class="icon text-4xl mb-3">üíß</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Recupera√ß√£o Ativa</h3>
                    <p class="text-gray-400">Reduza a velocidade para uma caminhada ou trote leve para recuperar o f√¥lego (PSE 3-4).</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <div class="icon text-4xl mb-3">üå°Ô∏è</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Aquecimento</h3>
                    <p class="text-gray-400">3 minutos de caminhada moderada para preparar o corpo e as articula√ß√µes.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <div class="icon text-4xl mb-3">üßò</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Desaquecimento</h3>
                    <p class="text-gray-400">2 minutos de caminhada leve para normalizar os batimentos card√≠acos.</p>
                </div>
            </div>
        </section>
        
        <section id="progression" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8 text-white">A Progress√£o da Sua Jornada</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-4 text-center text-white">Evolu√ß√£o da Dura√ß√£o Total do Treino</h3>
                    <div class="chart-container">
                        <canvas id="durationChart"></canvas>
                    </div>
                     <p class="text-center text-gray-400 mt-4">Seu treino evolui de 15 para 20 minutos, construindo sua resist√™ncia de forma gradual e consistente.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-4 text-center text-white">Intensidade: Est√≠mulo vs. Recupera√ß√£o</h3>
                    <div class="chart-container">
                        <canvas id="intensityChart"></canvas>
                    </div>
                     <p class="text-center text-gray-400 mt-4">Observe como o tempo de est√≠mulo aumenta e a recupera√ß√£o se torna mais desafiadora ao longo das semanas.</p>
                </div>
            </div>
        </section>

        <section id="weekly-breakdown" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8 text-white">Estrutura Semanal do HIIT</h2>
            <p class="text-center max-w-3xl mx-auto mb-10 text-gray-300">Realize este treino <span class="font-bold text-red-400">3 vezes por semana</span>, com pelo menos um dia de descanso entre as sess√µes. Use sempre a <span class="font-bold text-red-400">ESTEIRA</span>.</p>
            
            <div class="space-y-8">
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <h3 class="font-bold text-xl mb-2 text-white">Semanas 1-2: Constru√ß√£o de Base</h3>
                    <p class="text-gray-400">
                        <strong>Semana 1:</strong> 10 ciclos de <span class="font-bold">30s de Est√≠mulo</span> / <span class="font-bold">30s de Recupera√ß√£o</span>.
                        <br>
                        <strong>Semana 2:</strong> 11 ciclos de <span class="font-bold">30s de Est√≠mulo</span> / <span class="font-bold">30s de Recupera√ß√£o</span>.
                    </p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <h3 class="font-bold text-xl mb-2 text-white">Semanas 3-4: Aumentando o Desafio</h3>
                    <p class="text-gray-400">
                        <strong>Semana 3:</strong> 12 ciclos de <span class="font-bold">30s de Est√≠mulo</span> / <span class="font-bold">30s de Recupera√ß√£o</span>.
                        <br>
                        <strong>Semana 4:</strong> 10 ciclos de <span class="font-bold">45s de Est√≠mulo</span> / <span class="font-bold">30s de Recupera√ß√£o</span>.
                    </p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <h3 class="font-bold text-xl mb-2 text-white">Semanas 5-6: Intensifica√ß√£o</h3>
                    <p class="text-gray-400">
                        <strong>Semana 5:</strong> 13 ciclos de <span class="font-bold">40s de Est√≠mulo</span> / <span class="font-bold">20s de Recupera√ß√£o</span>.
                        <br>
                        <strong>Semana 6:</strong> 12 ciclos de <span class="font-bold">45s de Est√≠mulo</span> / <span class="font-bold">25s de Recupera√ß√£o</span>.
                    </p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <h3 class="font-bold text-xl mb-2 text-white">Semanas 7-8: Performance M√°xima</h3>
                    <p class="text-gray-400">
                        <strong>Semana 7:</strong> 15 ciclos de <span class="font-bold">40s de Est√≠mulo</span> / <span class="font-bold">20s de Recupera√ß√£o</span>.
                        <br>
                        <strong>Semana 8:</strong> 12 ciclos de <span class="font-bold">50s de Est√≠mulo</span> / <span class="font-bold">25s de Recupera√ß√£o</span>.
                    </p>
                </div>
            </div>
        </section>

        <section id="reminders" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8 text-white">Orienta√ß√µes Essenciais</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <div class="icon text-4xl mb-3">‚ù§Ô∏è</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Sa√∫de Mental</h3>
                    <p class="text-gray-400">O exerc√≠cio √© seu aliado. Respeite seus limites nos dias dif√≠ceis e anote como se sente ap√≥s cada treino.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <div class="icon text-4xl mb-3">üëÇ</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Escute seu Corpo</h3>
                    <p class="text-gray-400">Monitore qualquer desconforto. Ajuste a velocidade se necess√°rio. A consist√™ncia √© mais importante que a intensidade m√°xima.</p>
                </div>
                <div class="card p-6 rounded-lg shadow-lg text-center">
                    <div class="icon text-4xl mb-3">üîÑ</div>
                    <h3 class="font-bold text-xl mb-2 text-white">Flexibilidade</h3>
                    <p class="text-gray-400">Este plano √© um guia. Sinta-se √† vontade para repetir uma semana se a progress√£o parecer muito r√°pida. O importante √© n√£o parar.</p>
                </div>
            </div>
        </section>

        <section id="rpe-scale" class="mb-16">
            <h2 class="text-3xl font-bold text-center mb-8 text-white">Escala de Percep√ß√£o Subjetiva de Esfor√ßo (PSE)</h2>
            <p class="text-center max-w-3xl mx-auto mb-10 text-gray-300">Esta escala (Borg CR10) ajuda voc√™ a monitorar a intensidade do seu treino, baseando-se em como voc√™ se sente. Use-a para guiar seus esfor√ßos.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="card p-6 rounded-lg shadow-lg"><h3 class="font-bold text-xl mb-2 text-white">üü¢ 0 ‚Äì Nada de esfor√ßo</h3><p class="text-gray-400">Sensa√ß√£o: Repouso absoluto. Voc√™ est√° completamente relaxado, sem nenhuma atividade f√≠sica.<br>Exemplo na corrida: N√£o aplic√°vel (est√° em repouso).</p></div>
                <div class="card p-6 rounded-lg shadow-lg"><h3 class="font-bold text-xl mb-2 text-white">üîµ 0.5 ‚Äì Muito, muito leve</h3><p class="text-gray-400">Sensa√ß√£o: Praticamente nenhum esfor√ßo. A sensa√ß√£o √© quase impercept√≠vel, como se voc√™ estivesse parado.<br>Exemplo na corrida: Caminhada extremamente lenta e tranquila.</p></div>
                <div class="card p-6 rounded-lg shadow-lg"><h3 class="font-bold text-xl mb-2 text-white">üîµ 1 ‚Äì Muito leve</h3><p class="text-gray-400">Sensa√ß√£o: Esfor√ßo m√≠nimo, quase despreocupado. Voc√™ pode conversar e cantar com facilidade.<br>Exemplo na corrida: Caminhada suave, aquecimento bem leve.</p></div>
                <div class="card p-6 rounded-lg shadow-lg"><h3 class="font-bold text-xl mb-2 text-white">üåø 2 ‚Äì Leve</h3><p class="text-gray-400">Sensa√ß√£o: Atividade tranquila e confort√°vel. Respira√ß√£o aumenta levemente, mas ainda h√° total controle. √â poss√≠vel falar sem esfor√ßo.<br>Exemplo na corrida: Trote bem leve ou corrida de recupera√ß√£o.</p></div>
                <div class="card p-6 rounded-lg shadow-lg"><h3 class="font-bold text-xl mb-2 text-white">üü° 3 ‚Äì Moderado</h3><p class="text-gray-400">Sensa√ß√£o: Um esfor√ßo constante, mas sustent√°vel por longos per√≠odos. A respira√ß√£o fica mais profunda, mas voc√™ ainda consegue manter uma conversa sem dificuldade.<br>Exemplo na corrida: Corrida em ritmo conversacional, treino leve.</p></div>
                <div class="card p-6 rounded-lg shadow-lg"><h3 class="font-bold text-xl mb-2 text-white">üü° 4 ‚Äì Um pouco forte</h3><p class="text-gray-400">Sensa√ß√£o: O esfor√ßo come√ßa a ser not√°vel. A respira√ß√£o acelera e falar passa a exigir um pouco de aten√ß√£o.<br>Exemplo na corrida: Ritmo constante, um pouco mais r√°pido do que o normal.</p></div>
                <div class="card p-6 rounded-lg shadow-lg"><h3 class="font-bold text-xl mb-2 text-white">‚ö†Ô∏è 5 ‚Äì Forte</h3><p class="text-gray-400">Sensa√ß√£o: Desafiador, mas ainda sustent√°vel. Falar torna-se dif√≠cil; voc√™ s√≥ consegue dizer algumas palavras entre as respira√ß√µes.<br>Exemplo na corrida: Ritmo pr√≥ximo ao de maratona ou meia maratona (para corredores experientes).</p></div>
                <div class="card p-6 rounded-lg shadow-lg"><h3 class="font-bold text-xl mb-2 text-white">‚ö†Ô∏è 6 ‚Äì Forte (quase muito forte)</h3><p class="text-gray-400">Sensa√ß√£o: Esfor√ßo intenso. Falar √© limitado a uma ou duas palavras por vez. A respira√ß√£o est√° pesada e r√°pida.<br>Exemplo na corrida: Ritmo de 10 km ou trabalho no limiar anaer√≥bico.</p></div>
                <div class="card p-6 rounded-lg shadow-lg"><h3 class="font-bold text-xl mb-2 text-white">üî¥ 7 ‚Äì Muito forte</h3><p class="text-gray-400">Sensa√ß√£o: Extremamente desafiador. Voc√™ est√° pr√≥ximo ao seu limite de fala e consegue apenas emitir sons ou palavras curtas.<br>Exemplo na corrida: Treinos intervalados intensos ou ritmo de 5 km.</p></div>
                <div class="card p-6 rounded-lg shadow-lg"><h3 class="font-bold text-xl mb-2 text-white">üî• 8 ‚Äì Muito, muito forte</h3><p class="text-gray-400">Sensa√ß√£o: Intensidade elevada, quase insuport√°vel por muito tempo. A respira√ß√£o √© muito ofegante e o corpo pede pausa.<br>Exemplo na corrida: Final de um treino intenso ou esfor√ßo de prova curta.</p></div>
                <div class="card p-6 rounded-lg shadow-lg"><h3 class="font-bold text-xl mb-2 text-white">üí• 9 ‚Äì Quase m√°ximo</h3><p class="text-gray-400">Sensa√ß√£o: Voc√™ est√° praticamente no seu limite f√≠sico. Consegue manter esse esfor√ßo por poucos minutos no m√°ximo.<br>Exemplo na corrida: Sprint final em uma prova, esfor√ßo de 400 metros.</p></div>
                <div class="card p-6 rounded-lg shadow-lg"><h3 class="font-bold text-xl mb-2 text-white">‚ö° 10 ‚Äì M√°ximo</h3><p class="text-gray-400">Sensa√ß√£o: Esfor√ßo total. Seu corpo est√° no seu limite absoluto. √â um esfor√ßo explosivo e insustent√°vel por mais do que alguns segundos.<br>Exemplo na corrida: Sprint total, como em uma prova de 100 metros.</p></div>
            </div>
        </section>

        <div class="text-center">
            <button id="goToTimerPageBtn" class="nav-button">Abrir Temporizador de Treino</button>
        </div>

        <footer class="text-center mt-12 pt-8 border-t border-gray-700">
            <p class="text-gray-400">S√≥ alegria!</p>
        </footer>

    </div>

    <!-- P√°gina do Temporizador de Treino -->
    <div id="timer-app-page" class="timer-page hidden">
        <h1 class="text-4xl md:text-5xl font-black main-title mb-8 text-center">TEMPORIZADOR DE TREINO</h1>

        <div class="config-section mb-8">
            <h2 class="text-2xl font-bold text-white mb-4 text-center">Selecionar Treino do Plano</h2>
            <div class="flex flex-col md:flex-row gap-4 mb-4">
                <div class="flex-1">
                    <label for="weekSelect" class="block text-gray-300 text-lg mb-2">Semana:</label>
                    <select id="weekSelect" class="w-full"></select>
                </div>
                <div class="flex-1">
                    <label for="daySelect" class="block text-gray-300 text-lg mb-2">Dia da Semana:</label>
                    <select id="daySelect" class="w-full"></select>
                </div>
            </div>
            <button id="loadSelectedWorkoutBtn" class="nav-button w-full">Carregar Treino Selecionado</button>
        </div>

        <div class="text-center mb-8">
            <p class="phase-display" id="currentPhaseName">Pronto para Iniciar</p>
            <p class="timer-display text-gray-200" id="timeLeftDisplay">00:00</p>
            <p class="text-gray-400 text-lg mt-2" id="phaseInstructions"></p>
            <p class="set-display" id="currentSetDisplay">S√©rie: 0/0</p>
        </div>

        <div class="timer-controls flex justify-center flex-wrap">
            <button id="startBtn">Iniciar</button>
            <button id="pauseBtn" disabled>Pausar</button>
            <button id="resetBtn">Reiniciar</button>
            <button id="skipBtn" disabled>Pular Fase</button>
            <button id="backToInfographicBtn">Voltar</button>
        </div>

        <div class="config-section mt-8">
            <h2 class="text-2xl font-bold text-white mb-4 text-center">Ou crie/edite seu treino personalizado</h2>
            <div id="phasesContainer" class="space-y-4 mb-4"></div>
            <button id="addPhaseBtn" class="add-phase-btn w-full">Adicionar Fase</button>
            <div class="mt-6">
                <label for="numSets" class="block text-gray-300 text-lg mb-2">N√∫mero de S√©ries:</label>
                <input type="number" id="numSets" value="1" min="1" class="w-full p-2 rounded bg-gray-700 text-white border border-gray-600">
            </div>
            <div class="save-load-buttons flex justify-center mt-6">
                <button id="saveConfigBtn">Salvar Configura√ß√£o</button>
                <button id="loadConfigBtn">Carregar Configura√ß√£o</button>
            </div>
        </div>
    </div>

    <script>
        // --- Fun√ß√µes Auxiliares ---
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            return `${String(minutes).padStart(2, '0')}:${String(remainingSeconds).padStart(2, '0')}`;
        }

        function parseMMSS(mmssString) {
            const parts = mmssString.split(':');
            if (parts.length === 2) {
                const minutes = parseInt(parts[0]) || 0;
                const seconds = parseInt(parts[1]) || 0;
                return (minutes * 60) + seconds;
            }
            return 0;
        }

        // --- Vari√°veis Globais do Temporizador ---
        let workoutConfig = [];
        let currentPhaseIndex = 0;
        let currentSet = 1;
        let timeLeft = 0;
        let timerIntervalId = null;
        let isPaused = false;

        // --- Refer√™ncias de Elementos HTML ---
        const mainInfographicPage = document.getElementById('main-infographic-page');
        const timerAppPage = document.getElementById('timer-app-page');
        const goToTimerPageBtn = document.getElementById('goToTimerPageBtn');
        const backToInfographicBtn = document.getElementById('backToInfographicBtn');
        const currentPhaseName = document.getElementById('currentPhaseName');
        const timeLeftDisplay = document.getElementById('timeLeftDisplay');
        const phaseInstructions = document.getElementById('phaseInstructions');
        const currentSetDisplay = document.getElementById('currentSetDisplay');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const skipBtn = document.getElementById('skipBtn');
        const phasesContainer = document.getElementById('phasesContainer');
        const addPhaseBtn = document.getElementById('addPhaseBtn');
        const numSetsInput = document.getElementById('numSets');
        const saveConfigBtn = document.getElementById('saveConfigBtn');
        const loadConfigBtn = document.getElementById('loadConfigBtn');
        const weekSelect = document.getElementById('weekSelect');
        const daySelect = document.getElementById('daySelect');
        const loadSelectedWorkoutBtn = document.getElementById('loadSelectedWorkoutBtn');

        // --- Defini√ß√£o do Plano de Treino da Ev√¢nia (8 Semanas) ---
        function generateWorkoutDay(stimulusTime, recoveryTime, rounds) {
            const workout = [
                { name: 'Aquecimento', duration: 3 * 60, intensity: 'Baixa', description: 'Caminhada moderada para aquecer.' }
            ];
            for (let i = 0; i < rounds; i++) {
                workout.push({ name: `Est√≠mulo ${i + 1}/${rounds}`, duration: stimulusTime, intensity: 'Alta', description: 'Aumente a velocidade! PSE 8-9.' });
                workout.push({ name: `Recupera√ß√£o ${i + 1}/${rounds}`, duration: recoveryTime, intensity: 'Baixa', description: 'Caminhe para recuperar. PSE 3-4.' });
            }
            workout.push({ name: 'Desaquecimento', duration: 2 * 60, intensity: 'Baixa', description: 'Caminhada leve para normalizar.' });
            return workout;
        }

        const fullTrainingPlan = {
            'Semana 1': { 'Dia 1': generateWorkoutDay(30, 30, 10), 'Dia 2': generateWorkoutDay(30, 30, 10), 'Dia 3': generateWorkoutDay(30, 30, 10) },
            'Semana 2': { 'Dia 1': generateWorkoutDay(30, 30, 11), 'Dia 2': generateWorkoutDay(30, 30, 11), 'Dia 3': generateWorkoutDay(30, 30, 11) },
            'Semana 3': { 'Dia 1': generateWorkoutDay(30, 30, 12), 'Dia 2': generateWorkoutDay(30, 30, 12), 'Dia 3': generateWorkoutDay(30, 30, 12) },
            'Semana 4': { 'Dia 1': generateWorkoutDay(45, 30, 10), 'Dia 2': generateWorkoutDay(45, 30, 10), 'Dia 3': generateWorkoutDay(45, 30, 10) },
            'Semana 5': { 'Dia 1': generateWorkoutDay(40, 20, 13), 'Dia 2': generateWorkoutDay(40, 20, 13), 'Dia 3': generateWorkoutDay(40, 20, 13) },
            'Semana 6': { 'Dia 1': generateWorkoutDay(45, 25, 12), 'Dia 2': generateWorkoutDay(45, 25, 12), 'Dia 3': generateWorkoutDay(45, 25, 12) },
            'Semana 7': { 'Dia 1': generateWorkoutDay(40, 20, 15), 'Dia 2': generateWorkoutDay(40, 20, 15), 'Dia 3': generateWorkoutDay(40, 20, 15) },
            'Semana 8': { 'Dia 1': generateWorkoutDay(50, 25, 12), 'Dia 2': generateWorkoutDay(50, 25, 12), 'Dia 3': generateWorkoutDay(50, 25, 12) }
        };

        // --- Fun√ß√µes de Navega√ß√£o ---
        goToTimerPageBtn.addEventListener('click', () => {
            mainInfographicPage.classList.add('hidden');
            timerAppPage.classList.remove('hidden');
            timerAppPage.style.display = 'flex';
            populateWeekAndDaySelects();
            loadWorkoutConfig();
            updateDisplay();
        });

        backToInfographicBtn.addEventListener('click', () => {
            pauseTimer();
            mainInfographicPage.classList.remove('hidden');
            timerAppPage.classList.add('hidden');
            timerAppPage.style.display = 'none';
        });

        // --- Fun√ß√µes de Configura√ß√£o do Treino ---
        function populateWeekAndDaySelects() {
            weekSelect.innerHTML = '';
            for (let i = 1; i <= 8; i++) {
                const option = document.createElement('option');
                option.value = `Semana ${i}`;
                option.textContent = `Semana ${i}`;
                weekSelect.appendChild(option);
            }

            daySelect.innerHTML = '';
            const days = ['Dia 1', 'Dia 2', 'Dia 3'];
            days.forEach(day => {
                const option = document.createElement('option');
                option.value = day;
                option.textContent = day;
                daySelect.appendChild(option);
            });
        }

        function addPhaseRow(phase = { name: '', duration: 0, description: '', intensity: 'Baixa' }) {
            const phaseItem = document.createElement('div');
            phaseItem.className = 'phase-item';
            phaseItem.innerHTML = `
                <div class="flex-1 min-w-[100px]"><label class="block text-gray-400 text-sm mb-1">Nome</label><input type="text" placeholder="Nome da Fase" value="${phase.name}" class="phase-name-input w-full"></div>
                <div class="w-24"><label class="block text-gray-400 text-sm mb-1">Tempo</label><input type="text" placeholder="MM:SS" value="${formatTime(phase.duration)}" class="phase-duration-input w-full" pattern="\\d{2}:\\d{2}"></div>
                <div class="flex-1 min-w-[80px]"><label class="block text-gray-400 text-sm mb-1">Intensidade</label><select class="phase-intensity-select w-full"><option value="Baixa" ${phase.intensity === 'Baixa' ? 'selected' : ''}>Baixa</option><option value="Moderada" ${phase.intensity === 'Moderada' ? 'selected' : ''}>Moderada</option><option value="Alta" ${phase.intensity === 'Alta' ? 'selected' : ''}>Alta</option></select></div>
                <div class="flex-1 min-w-[150px]"><label class="block text-gray-400 text-sm mb-1">Descri√ß√£o</label><input type="text" placeholder="Descri√ß√£o da Fase" value="${phase.description}" class="phase-description-input w-full"></div>
                <button class="remove-phase-btn">Remover</button>
            `;
            phasesContainer.appendChild(phaseItem);

            phaseItem.querySelector('.remove-phase-btn').addEventListener('click', () => {
                phasesContainer.removeChild(phaseItem);
                updateWorkoutConfigFromUI();
            });

            phaseItem.querySelectorAll('input, select').forEach(input => {
                input.addEventListener('input', updateWorkoutConfigFromUI);
                input.addEventListener('change', updateWorkoutConfigFromUI);
            });

            updateWorkoutConfigFromUI();
        }

        function updateWorkoutConfigFromUI() {
            workoutConfig = [];
            phasesContainer.querySelectorAll('.phase-item').forEach(phaseItem => {
                const name = phaseItem.querySelector('.phase-name-input').value;
                const duration = parseMMSS(phaseItem.querySelector('.phase-duration-input').value);
                const intensity = phaseItem.querySelector('.phase-intensity-select').value;
                const description = phaseItem.querySelector('.phase-description-input').value;
                workoutConfig.push({ name, duration, description, intensity });
            });
        }

        function renderPhasesConfig() {
            phasesContainer.innerHTML = '';
            if (workoutConfig.length === 0) {
                addPhaseRow({ name: 'Aquecimento', duration: 180, description: 'Prepare o corpo.', intensity: 'Baixa' });
                addPhaseRow({ name: 'Est√≠mulo', duration: 30, description: 'Esfor√ßo intenso.', intensity: 'Alta' });
                addPhaseRow({ name: 'Recupera√ß√£o', duration: 30, description: 'Recupere ativamente.', intensity: 'Baixa' });
            } else {
                workoutConfig.forEach(phase => addPhaseRow(phase));
            }
        }

        saveConfigBtn.addEventListener('click', () => {
            updateWorkoutConfigFromUI();
            localStorage.setItem('customWorkoutConfigEvania', JSON.stringify(workoutConfig));
            localStorage.setItem('customNumSetsEvania', numSetsInput.value);
            alert('Configura√ß√£o salva com sucesso!');
        });

        function loadWorkoutConfig() {
            const savedConfig = localStorage.getItem('customWorkoutConfigEvania');
            const savedNumSets = localStorage.getItem('customNumSetsEvania');
            if (savedConfig) {
                workoutConfig = JSON.parse(savedConfig);
                numSetsInput.value = savedNumSets || 1;
                renderPhasesConfig();
                resetTimer();
            }
        }

        loadConfigBtn.addEventListener('click', () => {
            loadWorkoutConfig();
            alert('Configura√ß√£o personalizada carregada!');
        });

        loadSelectedWorkoutBtn.addEventListener('click', () => {
            const selectedWeek = weekSelect.value;
            const selectedDay = daySelect.value;
            
            if (fullTrainingPlan[selectedWeek] && fullTrainingPlan[selectedWeek][selectedDay]) {
                workoutConfig = fullTrainingPlan[selectedWeek][selectedDay];
                numSetsInput.value = 1; // Plan workouts are single-set sequences
                renderPhasesConfig();
                alert(`Treino de ${selectedDay} da ${selectedWeek} carregado!`);
                resetTimer();
            } else {
                alert('Treino n√£o encontrado para a sele√ß√£o.');
            }
        });

        addPhaseBtn.addEventListener('click', () => addPhaseRow());

        // --- Fun√ß√µes do Temporizador ---
        function applyTimerColor(intensity) {
            timeLeftDisplay.classList.remove('text-green-500', 'text-yellow-500', 'text-red-500', 'text-gray-200');
            currentPhaseName.classList.remove('text-green-500', 'text-yellow-500', 'text-red-500');

            switch (intensity) {
                case 'Baixa': timeLeftDisplay.classList.add('text-green-500'); currentPhaseName.classList.add('text-green-500'); break;
                case 'Moderada': timeLeftDisplay.classList.add('text-yellow-500'); currentPhaseName.classList.add('text-yellow-500'); break;
                case 'Alta': timeLeftDisplay.classList.add('text-red-500'); currentPhaseName.classList.add('text-red-500'); break;
                default: timeLeftDisplay.classList.add('text-gray-200'); currentPhaseName.classList.add('text-gray-200'); break;
            }
        }

        function updateDisplay() {
            const totalSets = numSetsInput.value;
            const currentPhase = workoutConfig[currentPhaseIndex];
            
            if (numSetsInput.value == 1 && workoutConfig.length > 3) {
                 currentSetDisplay.textContent = `Fase: ${currentPhaseIndex + 1}/${workoutConfig.length}`;
            } else {
                 currentSetDisplay.textContent = `S√©rie: ${currentSet}/${totalSets}`;
            }

            timeLeftDisplay.textContent = formatTime(timeLeft);

            if (currentPhase) {
                currentPhaseName.textContent = currentPhase.name;
                phaseInstructions.textContent = currentPhase.description || '';
                applyTimerColor(currentPhase.intensity);
            } else {
                currentPhaseName.textContent = "Nenhuma Fase";
                phaseInstructions.textContent = "";
                applyTimerColor(null);
            }
        }

        function nextPhase() {
            currentPhaseIndex++;
            if (currentPhaseIndex >= workoutConfig.length) {
                currentPhaseIndex = 0;
                currentSet++;
            }

            const totalSets = parseInt(numSetsInput.value);
            if (currentSet > totalSets) {
                clearInterval(timerIntervalId);
                timerIntervalId = null;
                currentPhaseName.textContent = "Treino Conclu√≠do!";
                timeLeftDisplay.textContent = "00:00";
                currentSetDisplay.textContent = `Parab√©ns!`;
                startBtn.disabled = true;
                pauseBtn.disabled = true;
                skipBtn.disabled = true;
                applyTimerColor(null);
                return;
            }

            timeLeft = workoutConfig[currentPhaseIndex].duration;
            updateDisplay();
        }

        function startTimer() {
            if (timerIntervalId || workoutConfig.length === 0) return;

            startBtn.disabled = true;
            pauseBtn.disabled = false;
            skipBtn.disabled = false;
            isPaused = false;

            if (timeLeft === 0) {
                timeLeft = workoutConfig[0].duration;
            }
            
            updateDisplay();

            timerIntervalId = setInterval(() => {
                if (timeLeft > 0) {
                    timeLeft--;
                    updateDisplay();
                }

                if (timeLeft <= 0) {
                    nextPhase();
                }
            }, 1000);
        }

        function pauseTimer() {
            clearInterval(timerIntervalId);
            timerIntervalId = null;
            isPaused = true;
            startBtn.disabled = false;
            pauseBtn.disabled = true;
        }

        function resetTimer() {
            clearInterval(timerIntervalId);
            timerIntervalId = null;
            currentPhaseIndex = 0;
            currentSet = 1;
            timeLeft = workoutConfig.length > 0 ? workoutConfig[0].duration : 0;
            isPaused = false;
            updateDisplay();
            startBtn.disabled = false;
            pauseBtn.disabled = true;
            skipBtn.disabled = true;
            applyTimerColor(null);
        }

        function skipPhase() {
            if (!timerIntervalId) return;
            // Chamar nextPhase() diretamente torna o pulo instant√¢neo.
            // Anteriormente, definia timeLeft = 0 e esperava o pr√≥ximo ciclo do intervalo,
            // o que causava um atraso de at√© 1 segundo.
            nextPhase();
        }

        // --- Event Listeners ---
        startBtn.addEventListener('click', startTimer);
        pauseBtn.addEventListener('click', pauseTimer);
        resetBtn.addEventListener('click', resetTimer);
        skipBtn.addEventListener('click', skipPhase);

        // --- L√≥gica dos Gr√°ficos ---
        const durationData = {
            labels: ['Sem 1', 'Sem 2', 'Sem 3', 'Sem 4', 'Sem 5', 'Sem 6', 'Sem 7', 'Sem 8'],
            datasets: [{
                label: 'Dura√ß√£o Total (min)',
                data: [15, 16, 17, 17.5, 18, 19, 20, 20],
                borderColor: '#EF4444',
                backgroundColor: 'rgba(239, 68, 68, 0.2)',
                fill: true,
                tension: 0.3
            }]
        };

        const intensityData = {
            labels: ['S1', 'S2', 'S3', 'S4', 'S5', 'S6', 'S7', 'S8'],
            datasets: [
                {
                    label: 'Est√≠mulo (s)',
                    data: [30, 30, 30, 45, 40, 45, 40, 50],
                    backgroundColor: '#EF4444',
                    borderColor: '#F87171',
                    borderWidth: 1
                },
                {
                    label: 'Recupera√ß√£o (s)',
                    data: [30, 30, 30, 30, 20, 25, 20, 25],
                    backgroundColor: '#6B7280',
                    borderColor: '#9CA3AF',
                    borderWidth: 1
                }
            ]
        };

        const commonChartOptions = {
            maintainAspectRatio: false,
            responsive: true,
            plugins: { legend: { labels: { color: '#D1D5DB' } } },
            scales: {
                y: { beginAtZero: true, ticks: { color: '#9CA3AF' }, grid: { color: 'rgba(255, 255, 255, 0.1)' } },
                x: { ticks: { color: '#9CA3AF' }, grid: { color: 'rgba(255, 255, 255, 0.1)' } }
            }
        };

        // --- Inicializa√ß√£o ---
        document.addEventListener('DOMContentLoaded', () => {
            new Chart(document.getElementById('durationChart'), {
                type: 'line',
                data: durationData,
                options: { ...commonChartOptions, scales: { ...commonChartOptions.scales, y: { ...commonChartOptions.scales.y, title: { display: true, text: 'Minutos', color: '#9CA3AF' } } } }
            });
            
            new Chart(document.getElementById('intensityChart'), {
                type: 'bar',
                data: intensityData,
                options: { ...commonChartOptions, scales: { ...commonChartOptions.scales, y: { ...commonChartOptions.scales.y, title: { display: true, text: 'Segundos', color: '#9CA3AF' } } } }
            });

            // Carrega o primeiro treino por padr√£o no temporizador
            if (fullTrainingPlan['Semana 1'] && fullTrainingPlan['Semana 1']['Dia 1']) {
                workoutConfig = fullTrainingPlan['Semana 1']['Dia 1'];
                renderPhasesConfig();
                resetTimer();
            }
        });
    </script>
</body>
</html>
